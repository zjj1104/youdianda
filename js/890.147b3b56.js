"use strict";(self["webpackChunkyoudianda_demo"]=self["webpackChunkyoudianda_demo"]||[]).push([[890],{1890:function(t,a,s){s.r(a),s.d(a,{default:function(){return v}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"article-container"},[a("van-nav-bar",{staticClass:"page-nav-bar",attrs:{"left-arrow":"",title:"文章详情"},on:{"click-left":function(a){return t.$router.back()}}}),a("div",{staticClass:"main-wrap"},[a("div",{staticClass:"article-detail"},[a("h1",{staticClass:"article-title"},[t._v(t._s(t.info.author))]),a("van-cell",{staticClass:"user-info",attrs:{center:"",border:!1}},[a("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",fit:"cover",src:"http://124.223.14.236:8060/"+t.info.pic},slot:"icon"}),a("div",{staticClass:"user-name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.info.description))]),a("div",{staticClass:"publish-date",attrs:{slot:"label"},slot:"label"},[t._v("14小时前")])],1),a("div",{staticClass:"article-content markdown-body",domProps:{innerHTML:t._s(t.info.content)}}),a("van-divider",[t._v("正文结束")]),a("p",{staticClass:"p2"},[t._v("相关推荐")]),a("van-grid",{attrs:{border:!1,"column-num":2}},t._l(t.recommend,(function(s){return a("van-grid-item",{key:s.id},[a("van-image",{attrs:{src:"http://124.223.14.236:8060/"+s.pic}}),a("p",{staticClass:"p1"},[t._v(t._s(s.title))])],1)})),1),a("div",{staticClass:"article-bottom"},[t.shochangShow?a("van-icon",{attrs:{color:"#777",name:"star-o"},on:{click:t.collectionFn}}):a("van-icon",{attrs:{color:"pink",name:"star"},on:{click:t.collectionFn}}),t.zanShow?a("van-icon",{attrs:{color:"#777",name:"good-job-o"},on:{click:t.fabulousFn}}):a("van-icon",{attrs:{color:"pink",name:"good-job"},on:{click:t.fabulousFn}}),a("van-icon",{attrs:{name:"share",color:"#777777"}})],1)],1)])],1)},o=[],n=s(4471);const e=t=>(0,n.Z)({url:"/index/show",params:t}),c=t=>(0,n.Z)({url:"/user/userDataHandle",params:t});var r=s(3822),l={data(){return{info:{},recommend:[],shochangShow:!1,zanShow:!1,type:1,action:"add",isShow:2}},component:{...(0,r.rn)(["user"])},created(){console.log(this.$route.query.id),this.getShow()},methods:{async getuserData(){const{data:t}=await c({type:this.type,article_id:this.$route.query.id,action:this.action,token:this.user});console.log(t)},async getShow(){const{data:t}=await e({id:this.$route.query.id});console.log(t),this.info=t.data.info,console.log(t.data.info.isCollect),this.info.isCollect?(this.shochangShow=!1,this.action="del"):(this.shochangShow=!0,this.action="add"),this.info.isLike?(this.zanShow=!1,this.action="del"):(this.zanShow=!0,this.action="add"),this.recommend=t.data.recommend},async collectionFn(){this.type=1,console.log(this.action),1===this.type&&"add"===this.action?(this.$toast.success("收藏成功"),await this.getuserData(),this.action="del",this.shochangShow=!1):1===this.type&&"del"===this.action&&(await this.getuserData(),this.$toast.success("取消收藏"),this.action="add",this.shochangShow=!0)},async fabulousFn(){this.type=2,2===this.type&&"add"===this.action?(await this.getuserData(),this.$toast.success("点赞成功"),this.action="del",this.zanShow=!1):2===this.type&&"del"===this.action&&(await this.getuserData(),this.$toast.success("取消点赞"),this.action="add",this.zanShow=!0)}}},h=l,d=s(1001),u=(0,d.Z)(h,i,o,!1,null,"090543d3",null),v=u.exports}}]);