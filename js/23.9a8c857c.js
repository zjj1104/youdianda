"use strict";(self["webpackChunkyoudianda_demo"]=self["webpackChunkyoudianda_demo"]||[]).push([[23],{1023:function(t,i,a){a.r(i),a.d(i,{default:function(){return m}});var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"home-container"},[i("van-nav-bar",{attrs:{title:"首页"}}),i("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.banner,(function(t){return i("van-swipe-item",{key:t.id},[i("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:"http://124.223.14.236:8060/"+t.advimgsrc}})],1)})),1),i("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。"}}),i("div",{staticClass:"van-cell"},[i("span",{staticClass:"hot"},[t._v("热门推荐")]),i("van-divider")],1),i("van-grid",{attrs:{"column-num":3}},t._l(t.hotList,(function(a){return i("van-grid-item",{key:a.id},[i("van-image",{attrs:{width:"100",height:"100",src:"http://124.223.14.236:8060/"+a.pic}}),i("span",{staticClass:"itemtitle"},[t._v(t._s(a.title))])],1)})),1),i("div",{staticClass:"van-cell"},[i("span",[t._v("热门推荐")]),i("van-divider")],1),i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.newList,(function(a){return i("articleList",{key:a.id,attrs:{article:a},nativeOn:{click:function(i){return t.clickFn(a)}}})})),1)],1)},s=[],e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"toutiao-article_item"},[i("ul",{staticClass:"articles-content"},[i("li",{staticClass:"articles-item"},[i("div",{staticClass:"item-horizontal"},[i("div",{staticClass:"left"},[i("p",{staticClass:"title"},[t._v(" "+t._s(t.article.title)+" ")]),i("p",{staticClass:"bottom_text"},[i("span",[t._v(t._s(t.article.description))]),i("br"),i("span",[t._v("收藏"+t._s(t.article.lovenum))]),t._v("   "),i("span",[t._v("点赞"+t._s(t.article.click))])])]),i("div",{staticClass:"right"},[i("van-image",{attrs:{src:"http://124.223.14.236:8060/"+t.article.pic,width:"3.12rem",height:"1.94rem",fit:"cover"},scopedSlots:t._u([{key:"error",fn:function(){return[t._v(" 图片加载失败 ")]},proxy:!0}])})],1)])])])])},r=[],l={props:{article:Object}},c=l,o=a(1001),d=(0,o.Z)(c,e,r,!1,null,null,null),u=d.exports,h=a(1516),v={data(){return{banner:[],hotList:[],newList:[],New:{page:1,limit:10},loading:!1,finished:!1,count:0}},components:{articleList:u},created(){this.GetALLindex(),this.GetHot()},methods:{clickFn(t){console.log(t),this.$router.push({path:"/read",query:{id:t.id}})},async GetALLindex(){const{data:t}=await(0,h.WD)();this.banner=t.data.banner,this.$store.commit("getHomeList",t.data)},async GetHot(){const{data:t}=await(0,h.k$)();this.hotList=t.data.list},async onLoad(){const{data:t}=await(0,h.WC)(this.New);this.count=t.data.list.totalPages,this.New.page++,console.log(this.count),this.newList=[...this.newList,...t.data.list.data],this.loading=!1,this.New.page>this.count&&(this.finished=!0)}}},p=v,f=(0,o.Z)(p,n,s,!1,null,null,null),m=f.exports},1516:function(t,i,a){a.d(i,{WC:function(){return r},WD:function(){return s},eY:function(){return l},k$:function(){return e}});var n=a(4471);const s=()=>(0,n.Z)({url:"/index/index"}),e=()=>(0,n.Z)({url:"/index/hot"}),r=t=>(0,n.Z)({url:"/index/new",params:t}),l=()=>(0,n.Z)({url:"/user/getUserInfo"})}}]);