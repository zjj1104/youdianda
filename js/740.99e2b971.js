"use strict";(self["webpackChunkyoudianda_demo"]=self["webpackChunkyoudianda_demo"]||[]).push([[740],{5740:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"login-container"},[t("van-nav-bar",{attrs:{title:"登录","left-arrow":""},on:{"click-left":function(t){return e.$router.go(-1)}}})],1),t("h1",{staticClass:"title2"},[e._v("优点达资讯")]),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"mobile",label:"用户名","left-icon":"manager",placeholder:"用户名",clearable:"",rules:e.rules.mobile},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),t("van-field",{attrs:{type:"password",name:"password",label:"密码","left-icon":"lock",placeholder:"密码",clearable:"",rules:e.rules.password},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")]),t("a",{staticClass:"enroll",attrs:{href:"#/enroll"}},[e._v("没有账号,立即注册")])],1)],1)],1)},o=[],r=a(7247),l=a(4471);const n=e=>(0,l.Z)({url:"index/login",method:"POST",data:e});var i={data(){return{isCountDownShow:!1,user:{mobile:"",password:""},rules:{mobile:[{required:!0,message:"请输入用户名"},{pattern:/^\d{6,12}$/,message:"用户名格式不正确"}],password:[{required:!0,message:"请填写密码"},{pattern:/^\d{6,12}$/,message:"密码不正确"}]}}},methods:{async onSubmit(e){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});const{data:t}=await n(e);console.log(t),0===t.errno?(this.$toast.success("登陆成功"),this.$router.go(-1),console.log(t.data.token),(0,r.LS)("YOUDIANDA_TOKEN",t.data.token),this.$store.commit("changeToken",t.data.token)):this.$toast.fail(t.errmsg)}}},u=i,d=a(1001),c=(0,d.Z)(u,s,o,!1,null,null,null),m=c.exports}}]);